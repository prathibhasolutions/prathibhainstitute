<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1, user-scalable=0">
  <title>Prathibha Institute</title>    
  <link rel="icon" type="image/png" href="../logo.png">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css" integrity="sha512-SnH5WK+bZxgPHs44uWIX+LLJAJ9/2PkPKZ5QiAj6Ta86w+fsb2TkcmfRyVX3pBnMFcV7oQPJkl9QevSCWr3W6A==" crossorigin="anonymous" referrerpolicy="no-referrer" />
  <!-- Bootstrap CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet">
  
  <!-- Bootstrap Icons -->
  <link href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-icons/1.10.5/font/bootstrap-icons.min.css" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/remixicon/fonts/remixicon.css" rel="stylesheet">

  <link rel="stylesheet" href="../index.css">
  <script src="../index.js" defer></script><!--js file-->
  <style>
    body {
    background-color: #f8f9fa;
  }
  
  h1 {
    color: #343a40;
  }
  
  .card {
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
  }
  
  </style>
</head>
<body>
  <div id="header-container"></div>
<br><br><br><br><br>
  <div class="container mt-5">
    <h1 class="text-center">Search for Your Certificate</h1>
    <div class="row justify-content-center mt-4">
      <div class="col-md-6">
        <div class="input-group">
          <input id="certificateId" type="text" class="form-control" placeholder="Enter Certificate ID" aria-label="Certificate ID">
          <button id="searchBtn" class="btn btn-primary">Search</button>
        </div>
      </div>
    </div>
    <div id="result" class="mt-5 text-center"></div>
  </div>
  <div class="main-container1" >
    <div class="main1">
        
        <div class="main2-container1">
            
            <p>Our certifications are respected in the software industry and open career opportunities. They validate your skills, prepare you for the workforce, and showcase your expertise to employers, helping you advance professionally.</p>
        </div>
        <div class="image-container">
            <img src="../images/0. CERTIFICATE.jpg" alt="">
        </div>
    </div>
   </div> 
  <br>
  <br>

  <div id="footer-container"></div>

<script>
    fetch('../footer.html')
        .then(response => response.text())
        .then(data => document.getElementById('footer-container').innerHTML = data);
</script>
<script>
    fetch('../header.html')
        .then(response => response.text())
        .then(data => document.getElementById('header-container').innerHTML = data);
</script>

<!-- Bootstrap JS -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.bundle.min.js"></script>    
 <!--Whatsapp-->
 <a href="https://api.whatsapp.com/send?phone=9030941099&text=Hello " class="whatsapp-button" target="_blank" style="position: fixed;  right: 15px; bottom: 15px;">
    <img src="https://i.ibb.co/VgSspjY/whatsapp-button.png" alt="whatsapp">
  </a>
  <script>
    document.addEventListener("DOMContentLoaded", () => {
    const searchBtn = document.getElementById("searchBtn");
    const resultDiv = document.getElementById("result");
  
    searchBtn.addEventListener("click", async () => {
      const certificateId = document.getElementById("certificateId").value.trim();
  
      // Clear previous result
      resultDiv.innerHTML = "";
  
      if (!certificateId) {
        resultDiv.innerHTML = `<div class="alert alert-warning">Please enter a Certificate ID.</div>`;
        return;
      }
  
      // Construct the URL for the certificate
      const certificateURL = `${certificateId}.pdf`;
  
      try {
        // Check if the certificate file exists
        const response = await fetch(certificateURL);
  
        if (response.ok) {
          // If the certificate exists, display it with an embedded viewer and download button
          resultDiv.innerHTML = `
            <div class="card mx-auto" style="max-width: 600px;">
              <div class="card-body">
                <h5 class="card-title">Certificate Found</h5>
                <p class="card-text">Your certificate is displayed below. You can also download it:</p>
                <iframe src="${certificateURL}" style="width: 100%; height: 500px;" frameborder="0"></iframe>
                <a href="${certificateURL}" download class="btn btn-success mt-3">Download Certificate</a>
              </div>
            </div>
          `;
        } else {
          // If the certificate does not exist, show an error message
          resultDiv.innerHTML = `<div class="alert alert-danger">Invalid Certificate ID. Please try again.</div>`;
        }
      } catch (error) {
        console.error("Error checking certificate:", error);
        resultDiv.innerHTML = `<div class="alert alert-danger">An error occurred. Please try again later.</div>`;
      }
    });
  });
  
  </script>
</body>
</html>
